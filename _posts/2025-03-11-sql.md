#### **목표**

1\. 오라클을 설치하고 cmd에서 실행한다.

2\. 오라클 에디터인 DBeaver를 설치하고 간단한 쿼리문을 적어본다.

학원 강의 수강 중 복습 용으로 기록할 예정이다.

sql은 쿼리 적는 연습이 중요하므로, 개인적으로 알아본 과제 등도 기록하려고 하는데, 그러한 연습은 추후 카테고리를 새로 개설하는 게 좋을지 고민 중이다. 가능하면 나중에 참고하기 쉽도록 하는 방향이 좋겠다고 생각하고 있다.

---

1\. 오라클 설치 및 실행

1-1. 설치

기본적으로, 오라클 홈페이지(https://www.oracle.com)에 접속하여 다운받는다.

그러나 다운로드 시 오라클 계정을 필요로 하므로, 미리 생성해둔 다음 다운받는 것이 좋다. 계정 생성은 많은 개인 정보를 요구하지 않으며, 절차가 간편해서 한국 포털 사이트 가입보다 수월하게 진행할 수 있다.

다운로드 링크는 다음과 같다.

[https://www.oracle.com/database/technologies/xe-prior-release-downloads.html](https://www.oracle.com/database/technologies/xe-prior-release-downloads.html)

 [XE Prior Release Archive

Getting Started: Support Oracle Database Express Edition (XE) is a community supported edition of the Oracle Database family. Please go to the Oracle Database XE Community Support Forum for help, feedback, and enhancement requests. Note: Oracle Support Ser

www.oracle.com](https://www.oracle.com/database/technologies/xe-prior-release-downloads.html)

여기서 사용하는 운영체제에 알맞는 것으로 다운받으면 된다. 필자의 경우에는 Windows 64bit 버전으로 다운받았다.

강사님께서 말씀하시길, Mac OS의 경우 체계가 다르다고 하셨다. 그래서 만약 오라클을 타 OS로 설치할 경우, 이 블로그의 글은 다소 참고하기 어려운 부분이 있을 수도 있다.

1-2. 실행

오라클은 사실 에디터 없이 cmd창에서 실행할 수 있다. 

파이썬과 같이 cmd에서 코드 작성이 가능한 프로그래밍 언어와는 차이가 있는데, DBMS는 데이터베이스 안의 데이터를 제어하는 것에 그 목적이 있기 때문에 '열람하는' 계정의 권한이 필수이다.

그리고 해당 계정에 열람 가능한 데이터베이스가 있기 때문에, 에디터에서는 특정 계정의 데이터를 조회하는 sql 쿼리를 쓰는 것이다. (그것도 길어지면 단순 조회라기 보다는 조회 프로그램이 된다고 한다.)

그래서 우선적으로, 해당 계정에 접속하는 것, 계정을 생성하고 권한을 부여하는 과정이 필수적이다.

이 과정은 에디터를 다운받기 전에, 다음과 같은 쿼리를 따라 미리 해뒀다.

개인 정보 등에 해당하는 내용은 지워 두었다. (사용자명, 실행한 시간 등)

해당 예제는 DBA 접속 후 시스템 계정으로 연결하여 새로운 사용자의 계정을 만드는 것이다.

**예제**

[##_Image|kage@bV93m7/btsH5zMAjzF/cs0YGM9iED00XThrYNRKHk/img.png|CDM|1.3|{"originWidth":847,"originHeight":635,"style":"alignCenter","filename":"스크린샷 2024-06-13 214000.png"}_##]

**틀린 부분**

> SQLPLUS SONN AS SYSDBA

작성된 사진에서는 SONN으로 오타가 났다. 그리고 원본 구문은 강사님이 주신 것으로 문제가 없었으며, 학원 컴퓨터에서는 잘 동작했지만, 필자의 개인 컴퓨터에서는 접근 권한 에러 ORA-01031이 발생하였다. 물론 이후에 계정명을 입력하라(Enter user-name)는 메시지가 나와서 시스템 계정에 접속은 할 수 있었지만, 에러가 나오는 것이 신경 쓰여서 학원과는 다른 방법으로 접속하였다.

**해결**

먼저, CMD를 관리자 권한으로 실행하여 아래와 같이 입력하고 DBA에 접속한다.

[##_Image|kage@cMpHTL/btsH5g7AIx9/ZwHkGAqw3y7EOCI2klelB0/img.png|CDM|1.3|{"originWidth":972,"originHeight":314,"style":"alignCenter","filename":"스크린샷(97).png"}_##]

이후 CONN SYSTEM/(오라클 설치 시 설정한 시스템 계정 비밀번호); 이라고 입력한 뒤 연결되는지 확인한다.

[##_Image|kage@eteQ5r/btsH4FmtBo1/jxrrvRfvv2H04ziV6mrRK1/img.png|CDM|1.3|{"originWidth":414,"originHeight":101,"style":"alignLeft","filename":"스크린샷(98).png"}_##]

연결되었다.

**잘 실행된 부분**

> CREATE USER (계정명) IDENTIFIED BY (계정명);

유저 (계정명)을 생성하고 (계정명)으로 정의한다.

> GRANT CONNECT, RESOURCE TO (계정명);

(계정명)에게 접속, 테이블 작성 권한을 부여한다.

REVOKE로 권한을 회수할 수 있다.

**2\. DBeaver 설치 후 실행 및 데이터 조회 쿼리 입력**

DBeaver는 sql문을 작성하기 위한 에디터이다. cmd에서도 실행이 가능하지만, 너무 복잡한데다 모든 명령어와 변수를 외어야 하기 때문에 번거롭고 계정에 어떤 테이블이 있는지 확인하기 쉽지 않다. (조회는 가능하지만 어떤 구조인지 볼 수 없기 때문에 각 테이블이 어떻게 연결되어 있고 어떤 변수를 참조하는지 알 수 없다.)

[https://dbeaver.io/download/](https://dbeaver.io/download/)

 [Download | DBeaver Community

Download DBeaver Community 24.1 Released on June 3rd 2024 (Milestones). It is free and open source (license). Also you can get it from the GitHub mirror. System requirements. DBeaver PRO 24.0 Released on March 11th, 2024 PRO version website: dbeaver.com Tr

dbeaver.io](https://dbeaver.io/download/)

위의 페이지에서 Community버전을 다운하였다. 마찬가지로 운영체제에 맞는 것을 선택한다.

[##_Image|kage@MIueT/btsH4ev74zE/IpENGAdXLQ4bfNZzp8AkMk/img.png|CDM|1.3|{"originWidth":1309,"originHeight":931,"style":"alignCenter","filename":"스크린샷 2024-06-13 194832.png"}_##]

실행 후 HR계정으로 접속하여 SELECT 구문으로 계정의 테이블 정보를 조회한 모습이다.

에디터에서 계정을 불러오려면

처음 실행하였을 경우에는 Create > Connection > Oracle > 다음 클릭 순으로 진행하면 된다.

만약 시스템 등의 계정을 이미 만들었을 경우에는, 상단의 데이터베이스 클릭>새 데이터베이스 연결>오라클>다음 순으로 진행할 수 있다.

그 다음에는 어떤 연결을 할 것인지에 대한 설정이 나오는데, 필자는 오라클 XE를 다운받았기에 아래와 같이 HR 계정을 세팅하였다.

[##_Image|kage@bBDOky/btsH5yUvCaP/ORs5MshHv2M7CbbwrII5f0/img.png|CDM|1.3|{"originWidth":1003,"originHeight":683,"style":"alignCenter","caption":"왼쪽 하단의 연결 테스트 버튼을 누르면 연결이 되는지 테스트할 수 있다. 만약 포트를 잘못 입력하였다면 연결이 되지 않을 수 있다. 만약 연결이 되지 않을 때는, 오라클 기본 포트인 1521인지 확인하자.","filename":"스크린샷 2024-06-20 010105.png"}_##]

이후 좌측 화면에서 localhost가 생성된 걸 볼 수 있다. 선택 후 우클릭 혹은 F2번 키를 눌러 이름을 변경할 수 있다. 계정이 여러 개인 경우 헷갈리므로 필자는  localhost\_HR로 이름을 바꾸었다.

더 많은 조회 쿼리는 다음 포스트에서 한꺼번에 종별로 다룰 예정이다.
